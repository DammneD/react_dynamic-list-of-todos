(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r=n(10),s=n.n(r),c=n(1),a=n.n(c),o=n(3),i=n(4),l=n(5),u=n(7),d=n(6),h=n(2),p=n.n(h),j=(n(17),n(18),n(11)),b=(n(19),n(9)),m=n.n(b),f=n(0),v=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={title:"",select:"all"},e.handleChange=function(t){var n=t.target,r=n.name,s=n.value;e.setState(Object(j.a)({},r,s))},e}return Object(l.a)(n,[{key:"todosFilter",value:function(){var e=this.state,t=e.title,n=e.select,r=t.toLowerCase(),s=this.props.todos.filter((function(e){return e.title.toLowerCase().includes(r)}));return"active"===n?s.filter((function(e){return!e.completed})):"completed"===n?s.filter((function(e){return e.completed})):s}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"TodoList",children:[Object(f.jsx)("h2",{children:"Todos: "}),Object(f.jsxs)("form",{className:"form",action:"GET",children:[Object(f.jsx)("input",{type:"text",name:"title",className:"form__input",placeholder:"Enter task title",value:this.state.title,onChange:function(t){return e.handleChange(t)}}),Object(f.jsxs)("select",{name:"select",className:"form__select",value:this.state.select,onChange:function(t){return e.handleChange(t)},children:[Object(f.jsx)("option",{value:"all",children:"All"}),Object(f.jsx)("option",{value:"active",children:"Active"}),Object(f.jsx)("option",{value:"completed",children:"Completed"})]})]}),Object(f.jsx)("div",{className:"TodoList__list-container",children:Object(f.jsx)("ul",{className:"TodoList__list",children:this.todosFilter().map((function(t){var n=e.props.selectedUserId===t.userId;return Object(f.jsxs)("li",{className:m()("TodoList__item",{"TodoList__item--checked":t.completed,"TodoList__item--unchecked":!t.completed}),children:[Object(f.jsxs)("label",{htmlFor:"input",children:[Object(f.jsx)("input",{type:"checkbox",id:"input",checked:t.completed,readOnly:!0}),Object(f.jsx)("p",{children:t.title})]}),Object(f.jsx)("button",{className:m()("TodoList__user-button","button",{"TodoList__user-button--selected":n}),type:"button",onClick:function(){return e.props.getId(t.userId)},children:"User #".concat(t.userId)})]})}))})})]})}}]),n}(p.a.Component),O="https://mate.academy/students-api/todos",x="https://mate.academy/students-api/users";function _(){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O);case 3:if(!(t=e.sent).ok){e.next=8;break}return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:throw new Error("ERROR Todos");case 11:throw e.prev=11,e.t0=e.catch(0),new Error("There is a problem: ".concat(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function U(e){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(x,"/").concat(t));case 3:if(!(n=e.sent).ok){e.next=8;break}return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:throw new Error("ERROR Users");case 11:throw e.prev=11,e.t0=e.catch(0),new Error("There is a problem: ".concat(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}n(21);var w=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={isUserLoaded:!0,user:{id:0,name:"",email:null,phone:null}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadUser()}},{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&this.loadUser()}},{key:"loadUser",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(this.props.id);case 3:t=e.sent,this.setState({user:t,isUserLoaded:!0}),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),this.setState({isUserLoaded:!1}),new Error("User isn't loaded ".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(f.jsx)(f.Fragment,{children:this.state.isUserLoaded?Object(f.jsxs)("div",{className:"CurrentUser",children:[Object(f.jsx)("h2",{className:"CurrentUser__title",children:Object(f.jsx)("span",{children:"Selected user: ".concat(this.state.user.id)})}),Object(f.jsx)("h3",{className:"CurrentUser__name",children:this.state.user.name}),Object(f.jsx)("p",{className:"CurrentUser__email",children:this.state.user.email}),Object(f.jsx)("p",{className:"CurrentUser__phone",children:this.state.user.phone}),Object(f.jsx)("button",{type:"button",className:"button CurrentUser__button",onClick:function(){return e.props.clear(0)},children:"Clear"})]}):Object(f.jsx)("h2",{children:"There is no such user :("})})}}]),n}(p.a.Component),C=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={todos:[],selectedUserId:0},e.selectUser=function(t){e.setState({selectedUserId:t})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,this.setState({todos:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.selectedUserId;return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("div",{className:"App__sidebar",children:Object(f.jsx)(v,{todos:this.state.todos,getId:this.selectUser,selectedUserId:this.state.selectedUserId})}),Object(f.jsx)("div",{className:"App__content",children:Object(f.jsx)("div",{className:"App__content-container",children:e?Object(f.jsx)(w,{id:this.state.selectedUserId,clear:this.selectUser}):"No user selected"})})]})}}]),n}(p.a.Component),N=C;s.a.render(Object(f.jsx)(N,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.c9ca3682.chunk.js.map